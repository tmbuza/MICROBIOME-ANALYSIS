mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
longitude = str_replace_all(longitude, "\\.", ""),
latitude = as.numeric(str_replace_all(latitude, " o ", ".")) * -1,
latitude = as.numeric(str_replace_all(latitude, "o ", ".")) * -1),
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
longitude = str_replace_all(longitude, "\\.", ""),
latitude = as.numeric(str_replace_all(latitude, " o ", ".")) * -1)
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
longitude = str_replace_all(longitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."))
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
longitude = str_replace_all(longitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
longitude = str_replace_all(longitude, "^0| o ", ""))
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
longitude = str_replace_all(longitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
longitude = str_replace_all(longitude, "^0", ""))
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(str_replace_all(latitude) * -1)
library(tidyverse)
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude  * -1))
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1)
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1)
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, organism, ph,latitude, longitude, bases) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "Sample_Location_Full_Name",latitude, longitude, bases) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "Sample_Location_Full_Name", latitude, longitude, bases) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_Location_Full_Name", latitude, longitude, bases) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha?aral", "Chanaral"))
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha\?aral", "Chanaral")) %>%
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha\\?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
source("~/Dropbox/MICROBIOME/imap-sample-metadata/workflow/scripts/process_sraruntable.R")
source("~/Dropbox/MICROBIOME/imap-sample-metadata/workflow/scripts/process_sraruntable.R")
source("~/Dropbox/MICROBIOME/imap-sample-metadata/workflow/scripts/merge_proj_metadata.R")
library(tidyverse)
read_csv("data/metadata/PRJNA208226_SraRunTable.csv", show_col_types = FALSE) %>%
rename(latitude = "GPS_Latitute_S") %>%
rename(longitude = "GPS_Longitude_W") %>%
rename_all(tolower) %>%
filter(bioproject=="PRJNA208226") %>%
select_if(~sum((!is.na(.))) > 0) %>%
mutate(
latitude = str_replace_all(latitude, "\\.*'$", ""),
latitude = str_replace_all(latitude, "\\.*_$", ""),
latitude = str_replace_all(latitude, "\\.", ""),
latitude = str_replace_all(latitude, " o ", "."),
latitude = str_replace_all(latitude, "o ", "."),
latitude = as.numeric(latitude) * -1) %>%
mutate(
longitude = str_replace_all(longitude, "\\.*'$", ""),
longitude = str_replace_all(longitude, "\\.*_$", ""),
longitude = str_replace_all(longitude, "\\.", ""),
longitude = str_replace_all(longitude, " o ", "."),
longitude = str_replace_all(longitude, "o ", "."),
longitude = str_replace_all(longitude, "^0", ""),
longitude = as.numeric(longitude) * -1) %>%
select_if(~sum((!is.na(.))) > 0) %>%
# mutate(bases = round(bases/1E6, digits = 0)) %>%
select(run, bioproject, location = "sample_location_full_name", latitude, longitude, bases) %>%
mutate(location = str_replace_all(location, "Cha\\?aral", "Chanaral")) %>%
write_csv("data/metadata/PRJNA208226_tidy_metadata.csv")
reticulate::source_python('~/Dropbox/MICROBIOME/imap-sample-metadata/workflow/scripts/get_run_accessions.py')
reticulate::repl_python()
